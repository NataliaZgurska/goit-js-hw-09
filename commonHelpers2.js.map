{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const storageKey = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', onInputHandle);\nform.addEventListener('submit', onBtnSubmit);\n\n// вивід даних з local storage в форму під час оновлення сторінки\nrestoreData();\n\n\n// збереження в local storage даних з інпуту\nfunction onInputHandle() {\n    const userMail = form.elements.email.value;\n    const userMessage = form.elements.message.value;\n    const data = {\n        mail: userMail,\n        message: userMessage,\n    }\n    saveToLS(storageKey, data);\n}\n\n// функція для виводу даних з local storage в форму \nfunction restoreData() {\n    const data = loadFromLS(storageKey) || {};\n    form.elements.email.value = data.mail || '';\n    form.elements.message.value = data.message || '';\n}\n\n// функція для збереження даних в local storage\nfunction saveToLS(key = 'empty', value = ' ') {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\n// функція для отримання даних з local storage\nfunction loadFromLS (key = 'empty') {\n    const data = localStorage.getItem(key);\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch {\n        return data;\n    }\n}\n\n\n// Сабміт форми\nfunction onBtnSubmit(e) {\n     e.preventDefault();\n    // Перевірка, що всі поля заповнені\n    const userMail = form.elements.email.value;\n    const userMessage = form.elements.message.value;\n    if (userMail === '' || userMessage === '') {\n        alert ('Будь ласка, заповніть всі поля форми')\n        return;\n    } else {\n        // очищуємо сховище і поля форми; виводим у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n        const data = loadFromLS(storageKey) || {};\n        console.log(data);\n        form.reset();\n        localStorage.removeItem(storageKey);\n\n    }\n}"],"names":["storageKey","form","onInputHandle","onBtnSubmit","restoreData","userMail","userMessage","saveToLS","data","loadFromLS","key","value","jsonData"],"mappings":"wFAAA,MAAMA,EAAa,sBACbC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAa,EAC5CD,EAAK,iBAAiB,SAAUE,CAAW,EAG3CC,IAIA,SAASF,GAAgB,CACrB,MAAMG,EAAWJ,EAAK,SAAS,MAAM,MAC/BK,EAAcL,EAAK,SAAS,QAAQ,MAK1CM,EAASP,EAJI,CACT,KAAMK,EACN,QAASC,CACZ,CACwB,CAC7B,CAGA,SAASF,GAAc,CACnB,MAAMI,EAAOC,EAAWT,CAAU,GAAK,CAAA,EACvCC,EAAK,SAAS,MAAM,MAAQO,EAAK,MAAQ,GACzCP,EAAK,SAAS,QAAQ,MAAQO,EAAK,SAAW,EAClD,CAGA,SAASD,EAASG,EAAM,QAASC,EAAQ,IAAK,CAC1C,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAGA,SAASH,EAAYC,EAAM,QAAS,CAChC,MAAMF,EAAO,aAAa,QAAQE,CAAG,EACrC,GAAI,CAEA,OADe,KAAK,MAAMF,CAAI,CAEtC,MAAM,CACE,OAAOA,CACV,CACL,CAIA,SAASL,EAAY,EAAG,CACnB,EAAE,eAAc,EAEjB,MAAME,EAAWJ,EAAK,SAAS,MAAM,MAC/BK,EAAcL,EAAK,SAAS,QAAQ,MAC1C,GAAII,IAAa,IAAMC,IAAgB,GAAI,CACvC,MAAO,sCAAsC,EAC7C,MACR,KAAW,CAEH,MAAME,EAAOC,EAAWT,CAAU,GAAK,CAAA,EACvC,QAAQ,IAAIQ,CAAI,EAChBP,EAAK,MAAK,EACV,aAAa,WAAWD,CAAU,CAErC,CACL"}